<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Landmarks Memory Match</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes flipIn {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(180deg); }
        }
        @keyframes flipOut {
            0% { transform: rotateY(180deg); }
            100% { transform: rotateY(0deg); }
        }
        .card {
            perspective: 1000px;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
        }
        .card-front {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        .card-back {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .flip-in {
            animation: flipIn 0.5s forwards;
        }
        .flip-out {
            animation: flipOut 0.5s forwards;
        }
        .match {
            transform: scale(0.95);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.7);
        }
        .modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .modal-enter {
            opacity: 0;
            transform: scale(0.9);
        }
        .modal-enter-active {
            opacity: 1;
            transform: scale(1);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-100 min-h-screen flex flex-col items-center justify-center p-4">
    <div class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 mb-2">World Landmarks Memory Match</h1>
        <p class="text-gray-600">Match the famous landmarks to complete your world tour!</p>
        <div class="mt-4 flex justify-center items-center gap-4">
            <div class="bg-white rounded-lg shadow-md px-4 py-2">
                <span class="font-semibold text-blue-600">Moves:</span>
                <span id="moves" class="ml-2">0</span>
            </div>
            <div class="bg-white rounded-lg shadow-md px-4 py-2">
                <span class="font-semibold text-purple-600">Matches:</span>
                <span id="matches" class="ml-2">0/8</span>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-4 gap-3 md:gap-4 max-w-md mx-auto mb-8">
        <!-- Cards will be generated by JavaScript -->
    </div>

    <button id="restart-btn" class="mt-6 px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition duration-300 transform hover:scale-105">
        Restart Game
    </button>

    <!-- Modal for fun facts -->
    <div id="fun-fact-modal" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none modal">
        <div class="absolute inset-0 bg-black bg-opacity-50"></div>
        <div class="bg-white rounded-xl p-6 max-w-sm mx-4 relative z-10 shadow-xl">
            <h3 class="text-xl font-bold text-blue-600 mb-2" id="landmark-name">Landmark</h3>
            <p class="text-gray-700 mb-4" id="fun-fact-text">Fun fact about this landmark...</p>
            <button id="close-modal" class="w-full py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition">Got it!</button>
        </div>
    </div>

    <!-- Completion modal -->
    <div id="completion-modal" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none modal">
        <div class="absolute inset-0 bg-black bg-opacity-50"></div>
        <div class="bg-white rounded-xl p-8 max-w-md mx-4 relative z-10 shadow-xl text-center">
            <div class="text-6xl mb-4">🎉</div>
            <h3 class="text-2xl font-bold text-purple-600 mb-2">Congratulations!</h3>
            <p class="text-gray-700 mb-6">You've completed your World Tour in <span id="final-moves">0</span> moves!</p>
            <button id="play-again" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition">
                Play Again
            </button>
        </div>
    </div>

    <audio id="flip-sound" src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV" preload="auto"></audio>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Game data
            const landmarks = [
                { emoji: '🗼', name: 'Eiffel Tower', fact: 'The Eiffel Tower was originally intended as a temporary exhibit for the 1889 World\'s Fair.' },
                { emoji: '🏟️', name: 'Colosseum', fact: 'The Colosseum could hold between 50,000 and 80,000 spectators, making it the largest amphitheater ever built.' },
                { emoji: '🧱', name: 'Great Wall of China', fact: 'Contrary to popular belief, the Great Wall of China cannot be seen from space with the naked eye.' },
                { emoji: '🔺', name: 'Pyramids', fact: 'The Great Pyramid of Giza is the oldest of the Seven Wonders of the Ancient World and the only one still largely intact.' },
                { emoji: '🗽', name: 'Statue of Liberty', fact: 'The Statue of Liberty was a gift from France to the United States, celebrating the friendship between the two nations.' },
                { emoji: '🕌', name: 'Hagia Sophia', fact: 'Hagia Sophia in Istanbul has served as a cathedral, mosque, and now a museum, reflecting Turkey\'s diverse history.' },
                { emoji: '🏰', name: 'Taj Mahal', fact: 'The Taj Mahal was built by Mughal emperor Shah Jahan in memory of his favorite wife, Mumtaz Mahal.' },
                { emoji: '🗿', name: 'Christ the Redeemer', fact: 'Christ the Redeemer in Rio de Janeiro is one of the New Seven Wonders of the World.' }
            ];

            // Game state
            let cards = [];
            let flippedCards = [];
            let matchedPairs = 0;
            let moves = 0;
            let canFlip = true;

            // DOM elements
            const gameBoard = document.querySelector('.grid');
            const movesDisplay = document.getElementById('moves');
            const matchesDisplay = document.getElementById('matches');
            const restartBtn = document.getElementById('restart-btn');
            const flipSound = document.getElementById('flip-sound');
            const funFactModal = document.getElementById('fun-fact-modal');
            const landmarkName = document.getElementById('landmark-name');
            const funFactText = document.getElementById('fun-fact-text');
            const closeModal = document.getElementById('close-modal');
            const completionModal = document.getElementById('completion-modal');
            const finalMoves = document.getElementById('final-moves');
            const playAgain = document.getElementById('play-again');

            // Initialize game
            function initGame() {
                // Reset game state
                cards = [];
                flippedCards = [];
                matchedPairs = 0;
                moves = 0;
                canFlip = true;
                
                // Update displays
                movesDisplay.textContent = moves;
                matchesDisplay.textContent = `${matchedPairs}/8`;
                
                // Create card pairs
                let gameCards = [];
                landmarks.forEach(landmark => {
                    gameCards.push({ ...landmark, id: Math.random() });
                    gameCards.push({ ...landmark, id: Math.random() });
                });
                
                // Shuffle cards
                gameCards = shuffleArray(gameCards);
                
                // Clear game board
                gameBoard.innerHTML = '';
                
                // Create card elements
                gameCards.forEach((card, index) => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'card h-16 w-16 md:h-20 md:w-20 cursor-pointer';
                    cardElement.dataset.index = index;
                    
                    cardElement.innerHTML = `
                        <div class="card-inner">
                            <div class="card-back rounded-lg shadow-md flex items-center justify-center">
                                <span class="text-2xl md:text-3xl">🌎</span>
                            </div>
                            <div class="card-front rounded-lg shadow-md flex items-center justify-center">
                                <span class="text-2xl md:text-3xl">${card.emoji}</span>
                            </div>
                        </div>
                    `;
                    
                    cardElement.addEventListener('click', () => flipCard(cardElement, index));
                    gameBoard.appendChild(cardElement);
                    cards.push({ ...card, element: cardElement, matched: false });
                });
            }

            // Shuffle array using Fisher-Yates algorithm
            function shuffleArray(array) {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            }

            // Flip card
            function flipCard(cardElement, index) {
                if (!canFlip || cards[index].matched || flippedCards.includes(index)) return;
                
                // Play flip sound
                flipSound.currentTime = 0;
                flipSound.play();
                
                // Flip animation
                cardElement.querySelector('.card-inner').classList.add('flip-in');
                cardElement.querySelector('.card-inner').classList.remove('flip-out');
                
                flippedCards.push(index);
                
                if (flippedCards.length === 2) {
                    canFlip = false;
                    moves++;
                    movesDisplay.textContent = moves;
                    
                    checkForMatch();
                }
            }

            // Check if flipped cards match
            function checkForMatch() {
                const [firstIndex, secondIndex] = flippedCards;
                const firstCard = cards[firstIndex];
                const secondCard = cards[secondIndex];
                
                if (firstCard.emoji === secondCard.emoji) {
                    // Match found
                    firstCard.matched = true;
                    secondCard.matched = true;
                    matchedPairs++;
                    matchesDisplay.textContent = `${matchedPairs}/8`;
                    
                    // Highlight matched cards
                    firstCard.element.classList.add('match');
                    secondCard.element.classList.add('match');
                    
                    // Show fun fact
                    setTimeout(() => {
                        showFunFact(firstCard);
                    }, 500);
                    
                    // Check for game completion
                    if (matchedPairs === 8) {
                        setTimeout(() => {
                            showCompletion();
                        }, 1000);
                    }
                    
                    flippedCards = [];
                    canFlip = true;
                } else {
                    // No match
                    setTimeout(() => {
                        // Play flip sound
                        flipSound.currentTime = 0;
                        flipSound.play();
                        
                        // Flip back
                        cards[firstIndex].element.querySelector('.card-inner').classList.remove('flip-in');
                        cards[firstIndex].element.querySelector('.card-inner').classList.add('flip-out');
                        
                        cards[secondIndex].element.querySelector('.card-inner').classList.remove('flip-in');
                        cards[secondIndex].element.querySelector('.card-inner').classList.add('flip-out');
                        
                        flippedCards = [];
                        canFlip = true;
                    }, 1000);
                }
            }

            // Show fun fact modal
            function showFunFact(card) {
                landmarkName.textContent = card.name;
                funFactText.textContent = card.fact;
                funFactModal.classList.remove('opacity-0', 'pointer-events-none');
            }

            // Show completion modal
            function showCompletion() {
                finalMoves.textContent = moves;
                completionModal.classList.remove('opacity-0', 'pointer-events-none');
            }

            // Event listeners
            restartBtn.addEventListener('click', initGame);
            closeModal.addEventListener('click', () => {
                funFactModal.classList.add('opacity-0', 'pointer-events-none');
            });
            playAgain.addEventListener('click', () => {
                completionModal.classList.add('opacity-0', 'pointer-events-none');
                initGame();
            });

            // Initialize the game on load
            initGame();
        });
    </script>
</body>
</html>
